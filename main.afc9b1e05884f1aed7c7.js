(()=>{"use strict";var e,r,n,t={3473:(e,r,n)=>{var t=n(4848),o=n(6540),a=n(8031),i=n(6831),l=n(2477),c=n(8763),s=n(5178),u=n(4719),p=n(7694),h=(0,o.memo)((function(e){var r=e.group,n=e.isActive,o=e.pickGroup,a=n?new Array(r.colors.length).fill("#7A45D6"):r.colors;return(0,t.jsxs)("mesh",{position:r.position,onClick:function(){return o(r.id)},children:["box"===r.type&&(0,t.jsx)("boxGeometry",{args:r.sizes}),"pyramide"===r.type&&(0,t.jsx)("coneGeometry",{args:r.sizes}),a.map((function(e,r){return(0,t.jsx)("meshBasicMaterial",{color:e,attach:"material-".concat(r)},r)}))]})}));var d=(0,o.memo)((function(e){var r=e.groups,n=e.activeGroup,o=e.pickGroup;return(0,t.jsx)("div",{className:"UqW42cb7",children:(0,t.jsxs)(s.Hl,{children:[(0,t.jsx)(u.u,{makeDefault:!0,position:[5,5,10]}),(0,t.jsx)(p.N,{target:[0,0,0]}),(0,t.jsx)("ambientLight",{intensity:1}),(0,t.jsx)("pointLight",{position:[-5,-5,0]}),r.map((function(e){return(0,t.jsx)(h,{group:e,isActive:e.id===n,pickGroup:o},e.id)}))]})})})),f=n(169),v=function(){return v=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},v.apply(this,arguments)},y=function(e){var r=e.children,n=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n}(e,["children"]);return(0,t.jsx)(f.A,v({},n,{variant:"contained",color:"primary",sx:{textTransform:"none"},children:r}))},b=n(7164),g=n(4433),m=n(2471),x=function(){return x=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},x.apply(this,arguments)},j=function(e){var r=e.label,n=e.value,o=e.onInputChange,a=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n}(e,["label","value","onInputChange"]);return(0,t.jsxs)(b.A,{display:"flex",alignItems:"center",gap:2,children:[(0,t.jsx)(g.A,{sx:{minWidth:100},children:r}),(0,t.jsx)(m.A,x({value:n,variant:"outlined",size:"small",onChange:o,sx:{flexGrow:1}},a))]})},O=n(779),w=n(1552),A=n(3325),C=function(){return C=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},C.apply(this,arguments)},k=function(e){var r=e.label,n=e.options,o=e.value,a=e.onInputChange,i=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n}(e,["label","options","value","onInputChange"]);return(0,t.jsxs)(b.A,{display:"flex",alignItems:"center",gap:2,children:[(0,t.jsx)(g.A,{sx:{minWidth:100},children:r}),(0,t.jsx)(O.A,{size:"small",sx:{flexGrow:1},children:(0,t.jsx)(w.A,C({value:o,onChange:a},i,{children:n.map((function(e){return(0,t.jsx)(A.A,{value:e,children:e},e)}))}))})]})};var G=function(){return G=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},G.apply(this,arguments)},P={type:"box",length:"",width:"",height:"",number:""},S=function(e){var r=e.children,n=e.onSubmit,a=(0,o.useState)(P),i=a[0],l=a[1],c=function(e){var r=e.target,n=r.name,t=r.value;l((function(e){var r;return G(G({},e),((r={})[n]=t.replace(/^0+(?=\d)/,""),r))}))},s=(0,o.useCallback)((function(e){e.preventDefault();var r=G(G({},i),{length:Number(i.length)||0,width:Number(i.width)||0,height:Number(i.height)||0,number:Number(i.number)||0});n&&n(r)}),[i,n]);return(0,t.jsxs)("form",{className:"mypZo8o4",onSubmit:s,children:[(0,t.jsx)(k,{label:"Type",name:"type",value:i.type,options:["box","pyramide"],onInputChange:c}),(0,t.jsx)(j,{label:"Length",value:i.length,name:"length",onInputChange:c}),(0,t.jsx)(j,{label:"Width",value:i.width,name:"width",onInputChange:c}),(0,t.jsx)(j,{label:"Height",value:i.height,name:"height",onInputChange:c}),(0,t.jsx)(j,{label:"Number",value:i.number,name:"number",onInputChange:c}),r]})},I=n(9799),M=n(2794),N=n(2241),_=n(7873);var E=(0,o.memo)((function(e){var r=e.groups,n=e.activeGroup,o=e.openModal,a=e.resetGroups,i=e.pickGroup;return(0,t.jsxs)("div",{className:"lMkpzSn8",children:[(0,t.jsx)(I.A,{children:r.map((function(e){var r=e.position.map((function(e){return Math.ceil(e)})).join(", "),o=e.id===n;return(0,t.jsxs)(M.Ay,{sx:{padding:"4px 8px",backgroundColor:o?"\t#7A45D6":"transparent",cursor:"pointer"},onClick:function(){return i(e.id)},children:[(0,t.jsx)(N.A,{primary:e.id.toUpperCase(),secondary:"position (".concat(r,")"),slotProps:{secondary:{sx:{fontStyle:"italic",color:"white"}}}}),(0,t.jsx)(_.A,{sx:{backgroundColor:e.colors[0],minWidth:20,height:20}})]},r)}))}),(0,t.jsxs)("div",{className:"Q9YLZ1AA",children:[(0,t.jsx)(y,{onClick:a,children:"Clear groups"}),(0,t.jsx)(y,{onClick:o,children:"Add group"})]})]})})),z=function(e,r,n){if(n||2===arguments.length)for(var t,o=0,a=r.length;o<a;o++)!t&&o in r||(t||(t=Array.prototype.slice.call(r,0,o)),t[o]=r[o]);return e.concat(t||Array.prototype.slice.call(r))};var D=function(){var e=(0,o.useState)(!1),r=e[0],n=e[1],s=function(){var e=(0,o.useState)([]),r=e[0],n=e[1],t=(0,o.useState)(""),a=t[0],i=t[1],l=0,c=0;return{groups:r,activeGroupId:a,handleAddGroup:(0,o.useCallback)((function(e){for(var r,t="box"===e.type?6:e.height,o=[],a=1;a<=e.number;a++){var i=void 0;"box"===e.type?i=++l:"pyramide"===e.type&&(i=++c),o.push({id:"".concat(e.type).concat(i),type:e.type,position:[10*(Math.random()-.5),5*Math.random(),10*(Math.random()-.5)],sizes:[e.length,e.width,e.height],colors:(r=t,Array.from({length:r},(function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16).padStart(6,"0"))})))})}n((function(e){return z(z([],e,!0),o,!0)}))}),[]),handleResetGroups:(0,o.useCallback)((function(){n([]),l=0,c=0}),[]),handlePickGroup:(0,o.useCallback)((function(e){i(e)}),[])}}(),u=s.groups,p=s.activeGroupId,h=s.handleAddGroup,f=s.handleResetGroups,v=s.handlePickGroup,b=function(){n(!1)},g=(0,o.useCallback)((function(e){h(e),b()}),[h,b]);return(0,t.jsxs)("div",{className:"nwEc8CX2",children:[(0,t.jsx)(E,{groups:u,activeGroup:p,openModal:function(){n(!0)},resetGroups:f,pickGroup:v}),(0,t.jsx)(d,{groups:u,activeGroup:p,pickGroup:v}),(0,t.jsxs)(a.A,{open:r,onClose:b,sx:{"& .MuiDialog-paper":{width:"400px"}},children:[(0,t.jsx)(i.A,{children:"Add group"}),(0,t.jsx)(l.A,{children:(0,t.jsx)(S,{onSubmit:g,children:(0,t.jsxs)(c.A,{children:[(0,t.jsx)(y,{onClick:b,children:"Cancel"}),(0,t.jsx)(y,{type:"submit",children:"Ok"})]})})})]})]})};(0,n(5338).createRoot)(document.getElementById("root")).render((0,t.jsx)((function(){return(0,t.jsx)("div",{className:"app",children:(0,t.jsx)(D,{})})}),{}))}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(r,n,t,o)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,t,o]=e[u],l=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(l=!1,o<i&&(i=o));if(l){e.splice(u--,1);var s=t();void 0!==s&&(r=s)}}return r}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,t,o]},a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var i={};r=r||[null,n({}),n([]),n(n)];for(var l=2&t&&e;"object"==typeof l&&!~r.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((r=>i[r]=()=>e[r]));return i.default=()=>e,a.d(o,i),o},a.d=(e,r)=>{for(var n in r)a.o(r,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};a.O.j=r=>0===e[r];var r=(r,n)=>{var t,o,[i,l,c]=n,s=0;if(i.some((r=>0!==e[r]))){for(t in l)a.o(l,t)&&(a.m[t]=l[t]);if(c)var u=c(a)}for(r&&r(n);s<i.length;s++)o=i[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self.webpackChunkdraw3d=self.webpackChunkdraw3d||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))})();var i=a.O(void 0,[678,96],(()=>a(3473)));i=a.O(i)})();